# ARF 模块开发参考文档：遥操作模块 (Teleoperation)

**所属平面:** ARF 边缘平面 (Edge Plane)
**模块代号:** `arf-edge-teleop`

---

### 1. 核心职责 (Core Mission)

提供人机远程实时控制接口，允许操作员直接操控机器人，常用于数据采集引导、特殊任务处理和故障恢复。

### 2. 关键功能与子模块

* **遥操作终端接口:** 负责接收来自外部控制设备（如手柄、键盘、VR设备）的输入。
* **低延迟指令通道:** 将操作员的指令以最低延迟，直接发送给`HAL`和`RTS`层。
* **实时视频/状态回传:** 将机器人的第一人称视角(FPV)视频和关键状态数据，实时回传给操作员。

### 3. 主要接口与数据流

* **输入:**
    * `操作员指令`: 来自手柄、键盘、VR设备的控制信号。
    * `机器人实时状态`: 来自`DMS`的机器人本体状态信息（电量、速度等）。
* **输出:**
    * `对HAL/RTS的直接控制指令`: 如`MotorCommand`，绕过`DIL`，直接控制硬件。
    * `向操作员终端的视频/数据流`: FPV视频流和状态数据。
* **交互协议:** 提供一个核心的gRPC服务（`teleop.proto`），采用**双向流 (Bi-directional Streaming)** 模式，以实现最低延迟的指令与反馈。

### 4. 主选技术栈与开发参考

* **核心技术:** WebRTC (用于浏览器端的视频流和数据通道)
    * **参考:** [WebRTC Official Site](https://webrtc.org/), [aiortc Python library](https://github.com/aiortc/aiortc)
* **核心语言:** C++, Python

---