# ARF 模块开发参考文档：决策智能层 (DIL)

所属平面: ARF 边缘平面 (Edge Plane)

模块代号: arf-edge-dil

### 1. 核心职责 (Core Mission)

作为机器人的“大脑”，负责编排和调用`ACR`提供的各种原子算法能力，形成完整的、有目标的任务逻辑。

### 2. 关键功能与子模块

- **行为树/状态机:** 用于实现结构化的、可预测的任务流程。
- **任务规划器:** 进行符号化或基于搜索的任务规划。
- **强化学习/模仿学习策略:** 运行端到端的神经网络策略。
- **安全监控与决策:** 融合系统状态，进行安全判断。

### 3. 主要接口与数据流

- **输入:**
  - `来自ACR的感知结果`: 如目标位置、地图信息等。
  - `来自DMS的数据`: 任何需要的数据流。
  - `用户指令`: 来自`应用层`的任务目标。
- **输出:**
  - `对HAL的控制指令`: 如电机转速、机械臂目标位姿等。
  - `对API的用户反馈`: 如“任务已完成”、“无法到达目标点”等。
- **交互协议:** 通常是一个核心的Python服务，订阅`DMS`的数据，并调用`HAL`和`ACR`的gRPC服务。

### 4. 主选技术栈与开发参考

- **核心语言:** Python
- **框架:** PyTorch, BehaviorTree.CPP (Python binding)
  - **参考:** [BehaviorTree.CPP V4](https://www.behaviortree.dev/)