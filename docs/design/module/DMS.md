# ARF 模块开发参考文档：数据采集与管理层 (DMS)

**所属平面:** ARF 边缘平面 (Edge Plane)
**模块代号:** `arf-edge-dms`

---

### 1. 核心职责 (Core Mission)

作为ARF边缘端所有数据的“**中枢神经系统**”和“**黑匣子**”，负责**采集**、**记录**、**路由**和**同步**所有模块间的数据。

### 2. 关键功能与子模块

* **数据采集与记录器:** 提供类似`rosbag`的功能，可以根据配置，将`数据总线`上指定主题的数据流，持久化记录到本地文件中。**这是数据采集的核心功能。**
* **数据总线 (Pub/Sub):** 基于Redis/ZeroMQ等实现的发布/订阅系统，负责模块间的实时数据路由。
* **云同步代理:** 负责在网络条件允许时，将本地录制的数据文件安全、可靠地上传到云端的`数据中心`。

### 3. 主要接口与数据流

* **输入:**
    * `来自HAL的原始数据`: 如图像、IMU读数。
    * `来自ACR/DIL的处理结果`: 如检测框、规划路径。
    * `来自遥操作模块的记录指令`: 如开始/停止记录。
* **输出:**
    * `流向各模块的数据流`: 响应订阅请求。
    * `待上传到云端的数据包`: 压缩和打包好的数据文件。
* **交互协议:** 提供一个核心的gRPC服务（`dms.proto`），作为所有模块数据交互和**数据记录控制**的中心。

### 4. 主选技术栈与开发参考

* **核心服务:** Go
* **客户端库:** Python, Go
    * **参考:** [Redis Pub/Sub Documentation](https://redis.io/docs/manual/pubsub/), [ZeroMQ Guide](https://zguide.zeromq.org/)

---