# ARF Python 语言设计与代码规范

**适用模块:** `DIL`, `Dev-SDK`, 算法封装层等

## 1. 设计思想 (Guiding Principles)

- **Pythonic:** 编写地道、优雅、可读性强的Python代码。善用列表推导式、生成器、装饰器等语言特性。
- **明确优于隐式:** 代码行为应清晰、可预测。
- **鸭子类型:** 关注对象的行为而非其具体类型。在合适的情况下使用抽象基类（`abc`）来定义接口。
- **依赖管理:** 使用`pip`和`requirements.txt`进行精确的依赖版本管理。

## 2. 代码要求 (Coding Standards)

### 2.1 格式化

- **强制:** 所有代码提交前，**必须**使用`black`进行格式化，`isort`进行import排序。

### 2.2 命名规范

- 遵循 **PEP 8**。
- **变量/函数/方法:** `snake_case`。
- **类名:** `CamelCase`。
- **常量:** `UPPER_SNAKE_CASE`。
- **私有成员:** 以单个下划线`_`开头。

### 2.3 类型提示 (Type Hinting)

- **强制:** 所有函数和方法的签名**必须**包含类型提示。
- **工具:** 使用`mypy`进行静态类型检查。

### 2.4 注释

- 所有公有模块、函数、类、方法**必须**有标准的**Google风格**Docstring。

### 2.5 错误处理

- 定义具体的异常类来表示不同的错误情况，而不是滥用通用的`Exception`。
- 使用`try...except...finally`结构处理可能发生的异常。

### 2.6 测试

- **框架:** 统一使用 **`pytest`**。
- 测试文件应与源文件结构对应，放在`tests/`目录下。