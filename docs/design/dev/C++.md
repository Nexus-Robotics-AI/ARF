# ARF C++ 语言设计与代码规范

**适用模块:** `RTS` 等硬实时模块

## 1. 设计思想 (Guiding Principles)

- **现代C++:**  **C++17/20** 标准，善用智能指针、`std::optional`、结构化绑定等现代特性来提升代码安全性和可读性。
- **RAII (Resource Acquisition Is Initialization):** 资源（内存、文件、锁）的管理**必须**遵循RAII原则，在对象的生命周期内自动管理资源。
- **零成本抽象:** 追求性能，但不能以牺牲代码结构为代价。善用模板和编译期多态来实现高效的抽象。
- **安全第一:** 在实时系统中，代码的稳定性和可预测性高于一切。

## 2. 代码要求 (Coding Standards)

### 2.1 格式化

- **强制:** 所有代码提交前，**必须**使用`clang-format`进行格式化。
- **规范:** 遵循 **Google C++ Style Guide**。

### 2.2 命名规范

- **类型名:** `CamelCase`。
- **变量名:** `snake_case`。
- **类成员变量:** `snake_case_` (以下划线结尾)。
- **常量/枚举:** `kCamelCase`。

### 2.3 内存管理

- **严禁**使用裸指针（`new`/`delete`）管理内存。
- **强制**使用智能指针：`std::unique_ptr` (独占所有权), `std::shared_ptr` (共享所有权)。

### 2.4 注释

- 遵循Doxygen风格进行注释，以便自动生成文档。

### 2.5 构建系统

- **强制:** 统一使用现代 **CMake** (`3.15+`)。
- 代码库应设计为易于被其他CMake项目通过`find_package`引用的形式。